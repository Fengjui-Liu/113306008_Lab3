<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>學號_Lab3_Number Guessing Game</title>
</head>
<body>
  <h1>113306008_Number Guessing Game</h1>
  <div id="result"></div>

  <script>
    // JavaScript code for the number guessing game
    let secretNumber;
    let attemptsLeft;

    function initializeGame() {
      secretNumber = Math.floor(Math.random() * 100) + 1;
      attemptsLeft = 7;
    }

    function playGame() {
      initializeGame();
      while (attemptsLeft > 0) {
        let userGuess = window.prompt(
          `請輸入你要猜的數字 (範圍 1-100)。剩餘次數: ${attemptsLeft}`
        );

        // Check if input is empty or not a number
        if (userGuess === null || userGuess.trim() === "" || isNaN(userGuess)) {
          alert("輸入無效，請輸入一個數字。");
          continue;
        }

        userGuess = Number(userGuess);

        // Check if input is within the valid range
        if (userGuess < 1 || userGuess > 100) {
          alert("請輸入範圍內的數字 (1-100)。");
          continue;
        }

        // Decrement attempts left
        attemptsLeft--;

        // Check if the guess is correct
        if (userGuess === secretNumber) {
          alert("恭喜你答對了！");
          document.getElementById("result").innerHTML =
            '<img src="correct.jpg" alt="Correct!">';
          return;
        } else if (userGuess < secretNumber) {
          alert("太小了！再試一次。");
        } else {
          alert("太大了！再試一次。");
        }
      }

      // If user runs out of attempts
      alert(`你已經用完所有次數！正確答案是: ${secretNumber}`);
      document.getElementById("result").innerHTML =
        '<img src="wrong.jpg" alt="Wrong!">';
    }

    // Start the game
    window.onload = function() {
      document.getElementById("result").innerHTML = ""; // Clear result area before starting
      playGame();
    };
  </script>
</body>
</html>
